<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>JP Residency — Registration & Booking</title>
<style>
  :root{
    --bg1:#0f172a; --bg2:#0b1220; --card:#ffffff;
    --accent1:#2563eb; --accent2:#7c3aed; --muted:#64748b;
    --ok:#16a34a; --danger:#dc2626;
  }
  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:#0b1220; display:flex; align-items:center; justify-content:center; padding:22px;
  }
  .app{width:100%;max-width:1080px}
  .title{text-align:center;color:#fff;margin-bottom:18px;font-weight:800;letter-spacing:.6px}
  .card{background:var(--card); border-radius:14px; padding:18px; box-shadow:0 10px 40px rgba(2,6,23,.6);}
  label{display:block;font-weight:600;margin-bottom:6px;color:#0b1220}
  input,select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;font-size:14px; box-sizing:border-box;}
  textarea{min-height:90px;resize:vertical}
  .buttons{display:flex;gap:10px;flex-wrap:wrap}
  .btn{cursor:pointer;border:0;padding:10px 14px;border-radius:10px;font-weight:700;color:#fff}
  .btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2))}
  .btn-ghost{background:#111827}
  .btn-ok{background:var(--ok)}
  .muted{color:var(--muted)}
  .section{margin:14px 0;padding:12px;border-radius:10px;background:#f8fafc;overflow:hidden}
  .center{text-align:center}
  .hidden{display:none}
  table{width:100%;border-collapse:collapse;margin-top:12px}
  th,td{border:1px solid #e6eef8;padding:8px;text-align:center}
  img.preview{max-width:220px;border-radius:8px;border:1px solid #e6eef8;margin-top:8px}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace}
  .pill{display:inline-block;padding:4px 8px;border-radius:999px;background:#eef2ff;font-weight:700}
  .small{font-size:13px;color:var(--muted)}
  /* New Registration responsive fix */
  @media screen and (max-width: 600px) {
    input, select, textarea{font-size:13px;}
    .buttons{flex-direction:column;}
    .card{padding:12px;}
  }
</style>
</head>
<body>
<div class="app">
  <h1 class="title">JP RESIDENCY — GUEST REGISTRATION & BOOKING FORM</h1>

  <!-- HOME -->
  <div id="page-home" class="card">
    <div class="center">
      <p class="muted">Choose an option to continue</p>
      <div class="buttons" style="justify-content:center">
        <button class="btn btn-primary" onclick="nav('page-new')">New Registration</button>
        <button class="btn btn-primary" onclick="nav('page-login')">Already Registered</button>
        <button class="btn btn-ghost" onclick="nav('page-owner')">Owner Login</button>
      </div>
      <p class="small center" style="margin-top:10px">Owner password is confidential and <strong>never shown</strong> in UI.</p>
    </div>
  </div>

  <!-- NEW REGISTRATION -->
  <div id="page-new" class="card hidden">
    <h2>New Registration</h2>
    <form id="form-new">
      <div class="section">
        <h3>Personal Information</h3>
        <label>Full Name</label><input id="fullName" required>
        <label>Gender</label>
        <select id="gender" required><option value="">Select</option><option>Male</option><option>Female</option><option>Other</option></select>
        <label>Mobile Number</label><input id="mobile" required>
        <label>Email ID</label><input id="email" type="email">
        <label>Full Address</label><textarea id="address" required></textarea>
      </div>

      <div class="section">
        <h3>ID Proof</h3>
        <label>ID Type</label>
        <select id="idType" required><option value="">Select</option><option>Aadhaar</option><option>PAN</option><option>Passport</option><option>Driving Licence</option></select>
        <label>ID Number</label><input id="idNumber" required>
        <label>Upload Aadhaar / ID image (required)</label><input id="idImage" type="file" accept="image/*" required>
        <label>Upload Signature image (required)</label><input id="signImage" type="file" accept="image/*" required>
      </div>

      <div class="section">
        <h3>Room Details</h3>
        <label>Date of Living</label><input id="livingDate" type="date" required>
        <label>Number of Guests</label>
        <select id="guests" required><option value="">Select</option><option>1</option><option>2</option><option>3</option><option>4</option></select>
      </div>

      <div class="section">
        <h3>Payment Details</h3>
        <label>Room Rent Per Month (₹)</label><input id="rent" type="number" required>
        <label>Advance Paid (₹)</label><input id="advance" type="number" required>
        <label>Previous Electric Meter Reading</label><input id="meter" type="number" required>
      </div>

      <div class="section">
        <h3>Account — set your 4-digit password</h3>
        <label>Password (4 digits)</label><input id="userPassword" type="password" maxlength="4" required>
        <label>Confirm Password</label><input id="userPassword2" type="password" maxlength="4" required>
      </div>

      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
        <div class="small muted">All fields required unless noted.</div>
        <div class="buttons">
          <button type="button" class="btn btn-ghost" onclick="nav('page-home')">Back</button>
          <button id="btn-submit" type="submit" class="btn btn-primary">Submit Details</button>
        </div>
      </div>
      <p id="submitStatus" class="small muted mono"></p>
    </form>
  </div>

  <!-- Other pages (WELCOME, LOGIN, OWNER, DETAIL) remain the same as your original code -->
</div>
</body>
</html>
